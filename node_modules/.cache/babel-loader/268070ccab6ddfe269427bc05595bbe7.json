{"ast":null,"code":"var _jsxFileName = \"/Users/zomme/Github/labs-hri-prototypes/ambidex-idle-sequencer/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { data_pr } from './data.js';\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/*   Variables & Constants                                                     */\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar showCam = false;\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/*   React classes                                                             */\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n// Media related classes -------------------------------------------------------\n\nclass Placeholder extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: this.props.id,\n      className: \"placeholder\",\n      style: {\n        visibility: this.props.visibility ? \"visible\" : \"hidden\"\n      },\n      children: this.props.content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Video extends React.Component {\n  changeSource() {}\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"video\", {\n      id: this.props.id,\n      className: \"\",\n      onEnded: () => videoEndHandler(),\n      src: this.props.src\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Img extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      id: this.props.id,\n      src: this.props.src\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n\n} // Dashboard related classes ---------------------------------------------------\n\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  makeStatusTable() {}\n\n  makeRangeTable(prOut) {\n    let rows = [];\n    prOut.forEach((item, index) => {\n      let ifClass = '';\n      ifClass = index === 0 ? 'border-top' : ifClass;\n      ifClass += item.isEndOfCat ? (ifClass ? ' ' : '') + 'border-bottom' : '';\n      ifClass += item.isPrev ? (ifClass ? ' ' : '') + 'prev' : '';\n      ifClass += item.isCurrent ? (ifClass ? ' ' : '') + 'active' : '';\n\n      let row = /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: ifClass,\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.code\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: parseFloat(item.pr).toFixed(3)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this);\n\n      rows.push(row);\n    });\n    return rows;\n  }\n\n  render() {\n    console.log(this.props.prOut);\n    let rows = this.makeRangeTable(this.props.prOut);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ui-container-h ui-container-gap abs-left\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ui-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"probability\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"dashboard\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            id: \"table_dashboard_dice\",\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"prev\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: this.props.prevMotion\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"random\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: parseFloat(this.props.dice).toFixed(3)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"dashboard\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            id: \"table_dashboard_pr\",\n            children: rows\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Controlboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      min: 0,\n      max: 100\n    };\n  }\n\n  makeBarTable(prIn) {\n    let rows = [];\n    const data_array = Object.keys(prIn);\n    data_array.forEach((set, setIndex) => {\n      if (set === 'primary' || set === 'secondary') {\n        let contents = [];\n        let value_old = 0;\n        prIn[set].prRatios.forEach((item, index) => {\n          let _content = /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            id: set + '_' + item.cat,\n            className: 'controls',\n            min: this.state.min,\n            max: this.state.max,\n            label: item.cat,\n            defaultValue: (item.pr + value_old) * 100\n          }, set + '_' + item.cat, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 26\n          }, this);\n\n          if (index < prIn[set].prRatios.length - 1) {\n            contents.push(_content);\n            value_old += item.pr;\n          }\n        });\n\n        let row = /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"header\",\n            children: set\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"cell-slider\",\n            children: contents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 11\n          }, this)]\n        }, set, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 19\n        }, this);\n\n        rows.push(row);\n      } else {\n        prIn[set].prRatios.forEach((inSet, inSetIndex) => {\n          let contents = [];\n          let value_old = 0;\n          inSet.prRatios.forEach((item, index) => {\n            let _content = /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              id: item.code,\n              className: 'controls',\n              min: this.state.min,\n              max: this.state.max,\n              label: item.code,\n              defaultValue: (item.pr + value_old) * 100\n            }, item.code, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 28\n            }, this);\n\n            if (index < inSet.prRatios.length - 1) {\n              contents.push(_content);\n              value_old += item.pr;\n            }\n          });\n\n          let row = /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"header\",\n              children: inSet.cat + ' (' + inSet.desc + ')'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"cell-slider\",\n              children: contents\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 13\n            }, this)]\n          }, inSet.cat, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 21\n          }, this);\n\n          if (inSet.prRatio.length > 1) {\n            rows.push(row);\n          }\n        });\n      } //console.log(rows);\n\n    });\n    return rows;\n  }\n\n  render() {\n    const content = this.makeBarTable(this.props.data);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ui-container-v abs-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"toggle_panel\",\n        value: \"false\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"toggle_panel\",\n        className: \"toggle-panel\",\n        children: \"probability ratio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ui-panel round-bottom\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"controlpanel\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this);\n  }\n\n} // Footer ----------------------------------------------------------------------\n\n\nclass Footer extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer\",\n      children: [btnbox_playback, btnbox_cam, /*#__PURE__*/_jsxDEV(Playback, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Playback extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      className: \"playback\",\n      min: \"0\",\n      max: \"100\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this);\n  }\n\n} // Generic UI components -------------------------------------------------------\n\n\nclass Btn extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      id: this.props.id,\n      onClick: this.props.onClick,\n      children: this.props.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/* React components                                                            */\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n\nconst btnbox_playback = /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"ui-container-h ui-container-gap abs-left\",\n  children: [/*#__PURE__*/_jsxDEV(Btn, {\n    id: \"btn_start\",\n    label: \"idle start\",\n    onClick: () => setNextMotion()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 255,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Btn, {\n    id: \"btn_end\",\n    label: \"idle end\",\n    onClick: () => stopMotion()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 254,\n  columnNumber: 3\n}, this);\n\nconst btnbox_cam = /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"ui-container-h ui-container-gap abs-right\",\n  children: /*#__PURE__*/_jsxDEV(Btn, {\n    id: \"btn_cam\",\n    label: \"change cam\",\n    onClick: () => changeCam()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 269,\n  columnNumber: 3\n}, this);\n/*******************************************************************************/\n\n/*   Assemble!!!   *************************************************************/\n\n/*******************************************************************************/\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    let prevMotion = '1-a';\n    let currentMotion = '1-b';\n    this.state = {\n      sideCamVisible: false,\n      playStatus: 'none',\n      prevMotion: prevMotion,\n      currentMotion: currentMotion,\n      dice: 0,\n      prIn: data_pr,\n      prOut1: this.calcPrOut(data_pr, 1, prevMotion, currentMotion),\n      prOut2: this.calcPrOut(data_pr, 2, prevMotion, currentMotion)\n    };\n  }\n\n  throwDice() {\n    let _dice = Math.random();\n\n    this.setState({\n      dice: _dice\n    });\n  }\n\n  calcPrOut(prIn, target, prev, current) {\n    let _range = [];\n\n    let _cat;\n\n    let _pr_accum = 0;\n\n    let _data = target === 1 ? prIn.primary.prRatios : prIn.secondary.prRatios;\n\n    prIn.motionGroup.prRatios.forEach((item, index) => {\n      _cat = item.cat;\n\n      let pr_cat = _data.find(o => o.cat === _cat).pr;\n\n      let pr_accum_inCat = 0;\n      _pr_accum += index > 0 ? _data[index - 1].pr : 0;\n      item.prRatios.forEach((item, index, array) => {\n        pr_accum_inCat += pr_cat * item.pr;\n        let pr1 = _pr_accum + pr_accum_inCat;\n        let isCurrent = item.code === current ? true : false;\n        let isPrev = item.code === prev ? true : false;\n        let isEnd = index === array.length - 1 ? true : false;\n        let output = {\n          code: item.code,\n          pr: pr1,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n\n        _range.push(output);\n      });\n    });\n    console.log(_range);\n    return _range;\n  }\n\n  render() {\n    let prIn = this.state.prIn;\n    let prOut1 = this.state.prOut1;\n    let prOut2 = this.state.prOut2;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Placeholder, {\n        id: \"box_cam_front\",\n        content: /*#__PURE__*/_jsxDEV(Img, {\n          src: require('./img/front_default.jpg')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 20\n        }, this),\n        visibility: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Placeholder, {\n        id: \"box_cam_side\",\n        content: /*#__PURE__*/_jsxDEV(Img, {\n          src: require('./img/side_default.jpg')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 20\n        }, this),\n        visibility: showCam\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dashboard, {\n        prOut: this.state.prOut1,\n        prevMotion: this.state.prevMotion,\n        dice: this.state.dice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controlboard, {\n        data: this.state.prIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/*   Functions                                                                 */\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nfunction setNextMotion() {\n  console.log(\"set next motion and play\");\n}\n\nfunction stopMotion() {\n  console.log(\"stop motion\");\n}\n\nfunction changeCam() {\n  console.log(\"change camera\");\n}\n\nfunction videoEndHandler() {}","map":{"version":3,"sources":["/Users/zomme/Github/labs-hri-prototypes/ambidex-idle-sequencer/src/App.js"],"names":["React","data_pr","showCam","Placeholder","Component","render","props","id","visibility","content","Video","changeSource","videoEndHandler","src","Img","Dashboard","constructor","makeStatusTable","makeRangeTable","prOut","rows","forEach","item","index","ifClass","isEndOfCat","isPrev","isCurrent","row","code","parseFloat","pr","toFixed","push","console","log","prevMotion","dice","Controlboard","state","min","max","makeBarTable","prIn","data_array","Object","keys","set","setIndex","contents","value_old","prRatios","_content","cat","length","inSet","inSetIndex","desc","prRatio","data","Footer","btnbox_playback","btnbox_cam","Playback","Btn","onClick","label","setNextMotion","stopMotion","changeCam","App","currentMotion","sideCamVisible","playStatus","prOut1","calcPrOut","prOut2","throwDice","_dice","Math","random","setState","target","prev","current","_range","_cat","_pr_accum","_data","primary","secondary","motionGroup","pr_cat","find","o","pr_accum_inCat","array","pr1","isEnd","output","require"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport {data_pr} from './data.js';\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/*   Variables & Constants                                                     */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nvar showCam = false;\n\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/*   React classes                                                             */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n// Media related classes -------------------------------------------------------\n\nclass Placeholder extends React.Component {\n  render() {\n    return (\n      <div\n        id={this.props.id}\n        className=\"placeholder\"\n        style={{visibility: this.props.visibility ? \"visible\" : \"hidden\"}}\n      >\n        {this.props.content}\n      </div>\n    );\n  }\n}\n\nclass Video extends React.Component {\n  changeSource() {\n\n  }\n  render() {\n    return (\n      <video\n        id={this.props.id}\n        className=\"\"\n        onEnded={() => videoEndHandler()}\n        src={this.props.src}\n      />\n    );\n  }\n}\n\nclass Img extends React.Component {\n  render() {\n    return (\n      <img\n        id={this.props.id}\n        src={this.props.src}\n      />\n    );\n  }\n}\n\n// Dashboard related classes ---------------------------------------------------\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  makeStatusTable() {\n\n  }\n  makeRangeTable(prOut) {\n    let rows = [];\n    prOut.forEach((item, index) => {\n      let ifClass = '';\n      ifClass = (index === 0) ? 'border-top' : ifClass;\n      ifClass += (item.isEndOfCat) ?\n        ((ifClass ? ' ' : '') + 'border-bottom')\n        : '';\n      ifClass += (item.isPrev) ?\n        ((ifClass ? ' ' : '') + 'prev')\n        : '';\n      ifClass += (item.isCurrent) ?\n        ((ifClass ? ' ' : '') + 'active')\n        : '';\n      let row = <tr key={index} className={ifClass}>\n        <td>{item.code}</td>\n        <td>{parseFloat(item.pr).toFixed(3)}</td>\n        </tr>;\n      rows.push(row);\n    });\n    return rows;\n  }\n  render() {\n    console.log(this.props.prOut);\n    let rows = this.makeRangeTable(this.props.prOut);\n    return (\n      <div className=\"ui-container-h ui-container-gap abs-left\">\n      <div className=\"ui-panel\">\n        <h1>probability</h1>\n        <table className=\"dashboard\">\n          <tbody id=\"table_dashboard_dice\">\n            <tr><td>prev</td><td>{this.props.prevMotion}</td></tr>\n            <tr><td>random</td><td>{parseFloat(this.props.dice).toFixed(3)}</td></tr>\n          </tbody>\n        </table>\n        <table className=\"dashboard\">\n          <tbody id=\"table_dashboard_pr\">\n            {rows}\n          </tbody>\n        </table>\n      </div>\n      </div>\n    );\n  }\n}\n\nclass Controlboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      min: 0,\n      max: 100\n    }\n  }\n  makeBarTable(prIn) {\n    let rows = [];\n    const data_array = Object.keys(prIn);\n    data_array.forEach((set, setIndex) => {\n      if (set === 'primary' || set === 'secondary') {\n        let contents = [];\n        let value_old = 0;\n        prIn[set].prRatios.forEach((item, index) => {\n          let _content = <input\n            type=\"range\"\n            id={set+'_'+item.cat}\n            key={set+'_'+item.cat}\n            className={'controls'}\n            min={this.state.min}\n            max={this.state.max}\n            label={item.cat}\n            defaultValue={(item.pr + value_old)*100}\n          />;\n          if (index < prIn[set].prRatios.length - 1) {\n            contents.push(_content);\n            value_old += item.pr;\n          }\n        });\n        let row = <tr key={set}>\n          <td className=\"header\">{set}</td>\n          <td className=\"cell-slider\">{contents}</td>\n        </tr>;\n        rows.push(row);\n      }\n      else {\n        prIn[set].prRatios.forEach((inSet, inSetIndex) => {\n          let contents = [];\n          let value_old = 0;\n          inSet.prRatios.forEach((item, index) => {\n            let _content = <input\n              type=\"range\"\n              id={item.code}\n              key={item.code}\n              className={'controls'}\n              min={this.state.min}\n              max={this.state.max}\n              label={item.code}\n              defaultValue={(item.pr + value_old)*100}\n            />;\n            if (index < inSet.prRatios.length - 1) {\n              contents.push(_content);\n              value_old += item.pr;\n            }\n          });\n          let row = <tr key={inSet.cat}>\n            <td className=\"header\">{inSet.cat + ' (' + inSet.desc + ')'}</td>\n            <td className=\"cell-slider\">{contents}</td>\n          </tr>;\n          if(inSet.prRatio.length > 1) {\n            rows.push(row);\n          }\n        });\n      }\n      //console.log(rows);\n    });\n    return rows;\n  }\n  render() {\n    const content = this.makeBarTable(this.props.data);\n    return (\n      <div className=\"ui-container-v abs-right\">\n        <input type=\"checkbox\" id=\"toggle_panel\" value=\"false\"/>\n        <label htmlFor=\"toggle_panel\" className=\"toggle-panel\">probability ratio</label>\n        <div className=\"ui-panel round-bottom\">\n        <table className=\"controlpanel\">\n          <tbody>\n            {content}\n          </tbody>\n        </table>\n        </div>\n      </div>\n    );\n  }\n}\n\n// Footer ----------------------------------------------------------------------\n\nclass Footer extends React.Component {\n  render() {\n    return (\n      <div className=\"footer\">\n        {btnbox_playback}\n        {btnbox_cam}\n        <Playback />\n      </div>\n    );\n  }\n}\n\nclass Playback extends React.Component {\n  render() {\n    return (\n      <input\n        type=\"range\"\n        className=\"playback\"\n        min=\"0\"\n        max=\"100\"\n      />\n    );\n  }\n}\n\n// Generic UI components -------------------------------------------------------\n\nclass Btn extends React.Component {\n  render() {\n    return (\n      <button\n        type=\"button\"\n        id={this.props.id}\n        onClick={this.props.onClick}\n      >\n        {this.props.label}\n      </button>\n    );\n  }\n}\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/* React components                                                            */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nconst btnbox_playback = (\n  <div className=\"ui-container-h ui-container-gap abs-left\">\n    <Btn\n      id=\"btn_start\"\n      label=\"idle start\"\n      onClick={() => setNextMotion()}\n    />\n    <Btn\n      id=\"btn_end\"\n      label=\"idle end\"\n      onClick={() => stopMotion()}\n    />\n  </div>\n);\n\nconst btnbox_cam = (\n  <div className=\"ui-container-h ui-container-gap abs-right\">\n    <Btn\n      id=\"btn_cam\"\n      label=\"change cam\"\n      onClick={() => changeCam()}\n    />\n  </div>\n);\n\n\n\n/*******************************************************************************/\n/*   Assemble!!!   *************************************************************/\n/*******************************************************************************/\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    let prevMotion = '1-a';\n    let currentMotion = '1-b';\n    this.state = {\n      sideCamVisible: false,\n      playStatus: 'none',\n      prevMotion: prevMotion,\n      currentMotion: currentMotion,\n      dice: 0,\n      prIn: data_pr,\n      prOut1: this.calcPrOut(data_pr, 1, prevMotion, currentMotion),\n      prOut2: this.calcPrOut(data_pr, 2, prevMotion, currentMotion)\n    };\n  }\n\n  throwDice() {\n    let _dice = Math.random();\n    this.setState({\n      dice: _dice\n    });\n  }\n\n  calcPrOut(prIn, target, prev, current) {\n    let _range = [];\n    let _cat;\n    let _pr_accum = 0;\n    let _data = (target === 1) ?\n      prIn.primary.prRatios : prIn.secondary.prRatios;\n    prIn.motionGroup.prRatios.forEach((item, index) => {\n      _cat = item.cat;\n      let pr_cat = _data.find(o => o.cat === _cat).pr;\n      let pr_accum_inCat = 0;\n      _pr_accum += (index > 0) ? _data[index-1].pr : 0;\n      item.prRatios.forEach((item, index, array) => {\n        pr_accum_inCat += pr_cat * item.pr;\n        let pr1 = _pr_accum + pr_accum_inCat;\n        let isCurrent = (item.code === current) ? true : false;\n        let isPrev = (item.code === prev) ? true : false;\n        let isEnd = (index === array.length - 1) ? true : false;\n        let output = {\n          code: item.code,\n          pr: pr1,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n        _range.push(output);\n      });\n    });\n    console.log(_range);\n    return _range;\n  }\n  render() {\n    let prIn = this.state.prIn;\n    let prOut1 = this.state.prOut1;\n    let prOut2 = this.state.prOut2;\n    return (\n      <div className=\"App\">\n        <Placeholder\n        id=\"box_cam_front\"\n          content={<Img src={require('./img/front_default.jpg')}/>}\n          visibility={true}\n        />\n        <Placeholder\n        id=\"box_cam_side\"\n          content={<Img src={require('./img/side_default.jpg')}/>}\n          visibility={showCam}\n        />\n        <Dashboard\n          prOut={this.state.prOut1}\n          prevMotion={this.state.prevMotion}\n          dice={this.state.dice}\n        />\n        <Controlboard data={this.state.prIn}/>\n        <Footer />\n      </div>\n    );\n  }\n}\nexport default App;\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/*   Functions                                                                 */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nfunction setNextMotion() {\n  console.log(\"set next motion and play\");\n}\n\nfunction stopMotion() {\n  console.log(\"stop motion\");\n}\n\nfunction changeCam() {\n  console.log(\"change camera\");\n}\n\nfunction videoEndHandler() {\n\n}\n"]},"metadata":{},"sourceType":"module"}