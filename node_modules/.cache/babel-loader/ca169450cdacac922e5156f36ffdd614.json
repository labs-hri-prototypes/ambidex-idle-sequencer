{"ast":null,"code":"var _jsxFileName = \"/Users/zomme/Github/labs-hri-prototypes/ambidex-idle-sequencer/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { data_pr } from './data.js';\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/*   Variables & Constants                                                     */\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar showCam = false;\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/*   React classes                                                             */\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n// Media related classes -------------------------------------------------------\n\nclass Placeholder extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: this.props.id,\n      className: \"placeholder\",\n      style: {\n        visibility: this.props.visibility ? \"visible\" : \"hidden\"\n      },\n      children: this.props.content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Video extends React.Component {\n  changeSource() {}\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"video\", {\n      id: this.props.id,\n      className: \"\",\n      onEnded: () => videoEndHandler(),\n      src: this.props.src\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Img extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      id: this.props.id,\n      src: this.props.src\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n\n} // Dashboard related classes ---------------------------------------------------\n\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  makeStatusTable() {}\n\n  makeRangeTable(prOut) {\n    let rows = [];\n    prOut.forEach((item, index) => {\n      let ifClass = '';\n\n      if (index == 0) {\n        ifClass = 'border-top';\n      }\n\n      if (item.isEndOfCat) {\n        if (ifClass) {\n          ifClass += ' ';\n        }\n\n        ifClass += 'border-bottom';\n      }\n\n      if (item.isPrev) {\n        if (ifClass) {\n          ifClass += ' ';\n        }\n\n        ifClass += 'prev';\n      }\n\n      if (item.isCurrent) {\n        if (ifClass) {\n          ifClass += ' ';\n        }\n\n        ifClass = 'active';\n      }\n\n      let row = /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: ifClass,\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.code\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: parseFloat(item.pr).toFixed(3)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 73\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this);\n\n      rows.push(row);\n    });\n    return rows;\n  }\n\n  render() {\n    console.log(this.props.prOut);\n    let rows = this.makeRangeTable(this.props.prOut);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ui-container-h ui-container-gap abs-left\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ui-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"probability\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"dashboard\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            id: \"table_dashboard_dice\",\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"prev\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: this.props.prevMotion\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"random\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: parseFloat(this.props.dice).toFixed(3)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"dashboard\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            id: \"table_dashboard_pr\",\n            children: rows\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  }\n\n} // Footer ----------------------------------------------------------------------\n\n\nclass Footer extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer\",\n      children: [btnbox_playback, btnbox_cam, /*#__PURE__*/_jsxDEV(Playback, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Playback extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      className: \"playback\",\n      min: \"0\",\n      max: \"100\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  }\n\n} // Generic UI components -------------------------------------------------------\n\n\nclass Btn extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      id: this.props.id,\n      onClick: this.props.onClick,\n      children: this.props.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/* React components                                                            */\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n\nconst btnbox_playback = /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"ui-container-h ui-container-gap abs-left\",\n  children: [/*#__PURE__*/_jsxDEV(Btn, {\n    id: \"btn_start\",\n    label: \"idle start\",\n    onClick: () => setNextMotion()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Btn, {\n    id: \"btn_end\",\n    label: \"idle end\",\n    onClick: () => stopMotion()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 174,\n  columnNumber: 3\n}, this);\n\nconst btnbox_cam = /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"ui-container-h ui-container-gap abs-right\",\n  children: /*#__PURE__*/_jsxDEV(Btn, {\n    id: \"btn_cam\",\n    label: \"change cam\",\n    onClick: () => changeCam()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 189,\n  columnNumber: 3\n}, this);\n/*******************************************************************************/\n\n/*   Assemble!!!   *************************************************************/\n\n/*******************************************************************************/\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props); //let prOut = this.calcPrOut(data_pr);\n\n    this.state = {\n      sideCamVisible: false,\n      playStatus: 'none',\n      prevMotion: '1-a',\n      currentMotion: '1-b',\n      dice: 0,\n      prIn: data_pr,\n      prOut1: this.calcPrOut(data_pr, 1),\n      prOut2: this.calcPrOut(data_pr, 2)\n    };\n  }\n\n  throwDice() {\n    let _dice = Math.random();\n\n    this.setState({\n      dice: _dice\n    });\n  }\n\n  calcPrOut(prIn, target) {\n    let _range = [];\n\n    let _cat;\n\n    let _pr_accum = 0;\n\n    let _data = target < 2 ? prIn.primary : prIn.secondary;\n\n    prIn.motionGroup.forEach((item, index) => {\n      _cat = item.cat;\n\n      let pr_cat = _data.find(o => o.cat === _cat).pr;\n\n      let pr_accum_inCat = 0;\n      _pr_accum += index > 0 ? _data[index - 1].pr : 0;\n      item.motions.forEach((item, index, array) => {\n        pr_accum_inCat += pr_cat * item.pr;\n        let pr1 = _pr_accum + pr_accum_inCat;\n        let isCurrent;\n        let isPrev;\n        let isEnd = false;\n\n        if (item.code == this.currentMotion) {\n          isCurrent = true;\n          console.log(item.code + \" & \" + this.currentMotion);\n        } else {\n          isCurrent = false;\n        }\n\n        if (item.code == this.prevMotion) {\n          isPrev = true;\n        } else {\n          isPrev = false;\n        }\n\n        if (index == array.length - 1) {\n          isEnd = true;\n        }\n\n        let output = {\n          code: item.code,\n          pr: pr1,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n\n        _range.push(output);\n      });\n    });\n    console.log(_range);\n    return _range;\n  }\n  /*\n  calcPrOut(prIn) {\n    let _range_1 = [];\n    let _range_2 = [];\n    let _cat;\n    let _pr_accum_1 = 0;\n    let _pr_accum_2 = 0;\n    let _data_1 = prIn.primary;\n    let _data_2 = prIn.secondary;\n    prIn.motionGroup.forEach((item, index) => {\n      _cat = item.cat;\n      let pr_cat_1 = _data_1.find(o => o.cat === _cat).pr;\n      let pr_cat_2 = _data_2.find(o => o.cat === _cat).pr;\n      let pr_accum_inCat_1 = 0;\n      let pr_accum_inCat_2 = 0;\n      if(index > 0) {\n        _pr_accum_1 += _data_1[index-1].pr;\n        _pr_accum_2 += _data_2[index-1].pr;\n      }\n      item.motions.forEach((item, index, array) => {\n        pr_accum_inCat_1 += pr_cat_1 * item.pr;\n        pr_accum_inCat_2 += pr_cat_2 * item.pr;\n        let pr1 = _pr_accum_1 + pr_accum_inCat_1;\n        let pr2 = _pr_accum_2 + pr_accum_inCat_2;\n        let isCurrent;\n        let isPrev;\n        let isEnd = false;\n        if(item.code == this.currentMotion) {\n          isCurrent = true;\n        }\n        else {\n          isCurrent = false;\n        }\n        if(item.code == this.prevMotion) {\n          isPrev = true;\n        }\n        else {\n          isPrev = false;\n        }\n        if(index == array.length - 1) {\n          isEnd = true;\n        }\n        let output_1 = {\n          code: item.code,\n          pr: pr1,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n        let output_2 = {\n          code: item.code,\n          pr: pr2,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n        _range_1.push(output_1);\n        _range_2.push(output_2);\n      });\n    });\n    let output_total = {\n      prOut1: _range_1,\n      prOut2: _range_2\n    }\n    console.log(_range_1);\n    console.log(_range_2);\n    return output_total;\n  }\n  */\n\n\n  render() {\n    let prIn = this.state.prIn;\n    let prOut1 = this.state.prOut1;\n    let prOut2 = this.state.prOut2;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Placeholder, {\n        id: \"box_cam_front\",\n        content: /*#__PURE__*/_jsxDEV(Img, {\n          src: require('./img/front_default.jpg')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 20\n        }, this),\n        visibility: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Placeholder, {\n        id: \"box_cam_side\",\n        content: /*#__PURE__*/_jsxDEV(Img, {\n          src: require('./img/side_default.jpg')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 20\n        }, this),\n        visibility: showCam\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dashboard, {\n        prOut: this.state.prOut1,\n        prevMotion: this.state.prevMotion,\n        dice: this.state.dice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/*   Functions                                                                 */\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nfunction setNextMotion() {\n  console.log(\"set next motion and play\");\n}\n\nfunction stopMotion() {\n  console.log(\"stop motion\");\n}\n\nfunction changeCam() {\n  console.log(\"change camera\");\n}\n\nfunction videoEndHandler() {}","map":{"version":3,"sources":["/Users/zomme/Github/labs-hri-prototypes/ambidex-idle-sequencer/src/App.js"],"names":["React","data_pr","showCam","Placeholder","Component","render","props","id","visibility","content","Video","changeSource","videoEndHandler","src","Img","Dashboard","constructor","makeStatusTable","makeRangeTable","prOut","rows","forEach","item","index","ifClass","isEndOfCat","isPrev","isCurrent","row","code","parseFloat","pr","toFixed","push","console","log","prevMotion","dice","Footer","btnbox_playback","btnbox_cam","Playback","Btn","onClick","label","setNextMotion","stopMotion","changeCam","App","state","sideCamVisible","playStatus","currentMotion","prIn","prOut1","calcPrOut","prOut2","throwDice","_dice","Math","random","setState","target","_range","_cat","_pr_accum","_data","primary","secondary","motionGroup","cat","pr_cat","find","o","pr_accum_inCat","motions","array","pr1","isEnd","length","output","require"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,SAAQC,OAAR,QAAsB,WAAtB;AAGA;;AACA;;AACA;;;AACA,IAAIC,OAAO,GAAG,KAAd;AAKA;;AACA;;AACA;AAEA;;AAEA,MAAMC,WAAN,SAA0BH,KAAK,CAACI,SAAhC,CAA0C;AACxCC,EAAAA,MAAM,GAAG;AACP,wBACE;AACE,MAAA,EAAE,EAAE,KAAKC,KAAL,CAAWC,EADjB;AAEE,MAAA,SAAS,EAAC,aAFZ;AAGE,MAAA,KAAK,EAAE;AAACC,QAAAA,UAAU,EAAE,KAAKF,KAAL,CAAWE,UAAX,GAAwB,SAAxB,GAAoC;AAAjD,OAHT;AAAA,gBAKG,KAAKF,KAAL,CAAWG;AALd;AAAA;AAAA;AAAA;AAAA,YADF;AASD;;AAXuC;;AAc1C,MAAMC,KAAN,SAAoBV,KAAK,CAACI,SAA1B,CAAoC;AAClCO,EAAAA,YAAY,GAAG,CAEd;;AACDN,EAAAA,MAAM,GAAG;AACP,wBACE;AACE,MAAA,EAAE,EAAE,KAAKC,KAAL,CAAWC,EADjB;AAEE,MAAA,SAAS,EAAC,EAFZ;AAGE,MAAA,OAAO,EAAE,MAAMK,eAAe,EAHhC;AAIE,MAAA,GAAG,EAAE,KAAKN,KAAL,CAAWO;AAJlB;AAAA;AAAA;AAAA;AAAA,YADF;AAQD;;AAbiC;;AAgBpC,MAAMC,GAAN,SAAkBd,KAAK,CAACI,SAAxB,CAAkC;AAChCC,EAAAA,MAAM,GAAG;AACP,wBACE;AACE,MAAA,EAAE,EAAE,KAAKC,KAAL,CAAWC,EADjB;AAEE,MAAA,GAAG,EAAE,KAAKD,KAAL,CAAWO;AAFlB;AAAA;AAAA;AAAA;AAAA,YADF;AAMD;;AAR+B,C,CAWlC;;;AAEA,MAAME,SAAN,SAAwBf,KAAK,CAACI,SAA9B,CAAwC;AACtCY,EAAAA,WAAW,CAACV,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACD;;AACDW,EAAAA,eAAe,GAAG,CAEjB;;AACDC,EAAAA,cAAc,CAACC,KAAD,EAAQ;AACpB,QAAIC,IAAI,GAAG,EAAX;AACAD,IAAAA,KAAK,CAACE,OAAN,CAAc,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC7B,UAAIC,OAAO,GAAG,EAAd;;AACA,UAAGD,KAAK,IAAI,CAAZ,EAAe;AACbC,QAAAA,OAAO,GAAG,YAAV;AACD;;AACD,UAAGF,IAAI,CAACG,UAAR,EAAoB;AAClB,YAAGD,OAAH,EAAY;AACVA,UAAAA,OAAO,IAAI,GAAX;AACD;;AACDA,QAAAA,OAAO,IAAI,eAAX;AACD;;AACD,UAAGF,IAAI,CAACI,MAAR,EAAgB;AACd,YAAGF,OAAH,EAAY;AACVA,UAAAA,OAAO,IAAI,GAAX;AACD;;AACDA,QAAAA,OAAO,IAAI,MAAX;AACD;;AACD,UAAGF,IAAI,CAACK,SAAR,EAAmB;AACjB,YAAGH,OAAH,EAAY;AACVA,UAAAA,OAAO,IAAI,GAAX;AACD;;AACDA,QAAAA,OAAO,GAAG,QAAV;AACD;;AACD,UAAII,GAAG,gBAAG;AAAgB,QAAA,SAAS,EAAEJ,OAA3B;AAAA,gCAAoC;AAAA,oBAAKF,IAAI,CAACO;AAAV;AAAA;AAAA;AAAA;AAAA,gBAApC,eAAwD;AAAA,oBAAKC,UAAU,CAACR,IAAI,CAACS,EAAN,CAAV,CAAoBC,OAApB,CAA4B,CAA5B;AAAL;AAAA;AAAA;AAAA;AAAA,gBAAxD;AAAA,SAAST,KAAT;AAAA;AAAA;AAAA;AAAA,cAAV;;AACAH,MAAAA,IAAI,CAACa,IAAL,CAAUL,GAAV;AACD,KAzBD;AA0BA,WAAOR,IAAP;AACD;;AACDf,EAAAA,MAAM,GAAG;AACP6B,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAK7B,KAAL,CAAWa,KAAvB;AACA,QAAIC,IAAI,GAAG,KAAKF,cAAL,CAAoB,KAAKZ,KAAL,CAAWa,KAA/B,CAAX;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,0CAAf;AAAA,6BACA;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAO,UAAA,SAAS,EAAC,WAAjB;AAAA,iCACE;AAAO,YAAA,EAAE,EAAC,sBAAV;AAAA,oCACE;AAAA,sCAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAJ,eAAiB;AAAA,0BAAK,KAAKb,KAAL,CAAW8B;AAAhB;AAAA;AAAA;AAAA;AAAA,sBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA,sCAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAJ,eAAmB;AAAA,0BAAKN,UAAU,CAAC,KAAKxB,KAAL,CAAW+B,IAAZ,CAAV,CAA4BL,OAA5B,CAAoC,CAApC;AAAL;AAAA;AAAA;AAAA;AAAA,sBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAFF,eAQE;AAAO,UAAA,SAAS,EAAC,WAAjB;AAAA,iCACE;AAAO,YAAA,EAAE,EAAC,oBAAV;AAAA,sBACGZ;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YADF;AAkBD;;AA1DqC,C,CA6DxC;;;AAEA,MAAMkB,MAAN,SAAqBtC,KAAK,CAACI,SAA3B,CAAqC;AACnCC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,iBACGkC,eADH,EAEGC,UAFH,eAGE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAOD;;AATkC;;AAYrC,MAAMC,QAAN,SAAuBzC,KAAK,CAACI,SAA7B,CAAuC;AACrCC,EAAAA,MAAM,GAAG;AACP,wBACE;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,SAAS,EAAC,UAFZ;AAGE,MAAA,GAAG,EAAC,GAHN;AAIE,MAAA,GAAG,EAAC;AAJN;AAAA;AAAA;AAAA;AAAA,YADF;AAQD;;AAVoC,C,CAavC;;;AAEA,MAAMqC,GAAN,SAAkB1C,KAAK,CAACI,SAAxB,CAAkC;AAChCC,EAAAA,MAAM,GAAG;AACP,wBACE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,EAAE,EAAE,KAAKC,KAAL,CAAWC,EAFjB;AAGE,MAAA,OAAO,EAAE,KAAKD,KAAL,CAAWqC,OAHtB;AAAA,gBAKG,KAAKrC,KAAL,CAAWsC;AALd;AAAA;AAAA;AAAA;AAAA,YADF;AASD;;AAX+B;AAgBlC;;AACA;;AACA;;;AAEA,MAAML,eAAe,gBACnB;AAAK,EAAA,SAAS,EAAC,0CAAf;AAAA,0BACE,QAAC,GAAD;AACE,IAAA,EAAE,EAAC,WADL;AAEE,IAAA,KAAK,EAAC,YAFR;AAGE,IAAA,OAAO,EAAE,MAAMM,aAAa;AAH9B;AAAA;AAAA;AAAA;AAAA,UADF,eAME,QAAC,GAAD;AACE,IAAA,EAAE,EAAC,SADL;AAEE,IAAA,KAAK,EAAC,UAFR;AAGE,IAAA,OAAO,EAAE,MAAMC,UAAU;AAH3B;AAAA;AAAA;AAAA;AAAA,UANF;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;;AAeA,MAAMN,UAAU,gBACd;AAAK,EAAA,SAAS,EAAC,2CAAf;AAAA,yBACE,QAAC,GAAD;AACE,IAAA,EAAE,EAAC,SADL;AAEE,IAAA,KAAK,EAAC,YAFR;AAGE,IAAA,OAAO,EAAE,MAAMO,SAAS;AAH1B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,QADF;AAYA;;AACA;;AACA;;;AAEA,MAAMC,GAAN,SAAkBhD,KAAK,CAACI,SAAxB,CAAkC;AAChCY,EAAAA,WAAW,CAACV,KAAD,EAAQ;AACjB,UAAMA,KAAN,EADiB,CAEjB;;AACA,SAAK2C,KAAL,GAAa;AACXC,MAAAA,cAAc,EAAE,KADL;AAEXC,MAAAA,UAAU,EAAE,MAFD;AAGXf,MAAAA,UAAU,EAAE,KAHD;AAIXgB,MAAAA,aAAa,EAAE,KAJJ;AAKXf,MAAAA,IAAI,EAAE,CALK;AAMXgB,MAAAA,IAAI,EAAEpD,OANK;AAOXqD,MAAAA,MAAM,EAAE,KAAKC,SAAL,CAAetD,OAAf,EAAwB,CAAxB,CAPG;AAQXuD,MAAAA,MAAM,EAAE,KAAKD,SAAL,CAAetD,OAAf,EAAwB,CAAxB;AARG,KAAb;AAUD;;AAEDwD,EAAAA,SAAS,GAAG;AACV,QAAIC,KAAK,GAAGC,IAAI,CAACC,MAAL,EAAZ;;AACA,SAAKC,QAAL,CAAc;AACZxB,MAAAA,IAAI,EAAEqB;AADM,KAAd;AAGD;;AAEDH,EAAAA,SAAS,CAACF,IAAD,EAAOS,MAAP,EAAe;AACtB,QAAIC,MAAM,GAAG,EAAb;;AACA,QAAIC,IAAJ;;AACA,QAAIC,SAAS,GAAG,CAAhB;;AACA,QAAIC,KAAK,GAAIJ,MAAM,GAAG,CAAV,GAAeT,IAAI,CAACc,OAApB,GAA8Bd,IAAI,CAACe,SAA/C;;AACAf,IAAAA,IAAI,CAACgB,WAAL,CAAiBhD,OAAjB,CAAyB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACxCyC,MAAAA,IAAI,GAAG1C,IAAI,CAACgD,GAAZ;;AACA,UAAIC,MAAM,GAAGL,KAAK,CAACM,IAAN,CAAWC,CAAC,IAAIA,CAAC,CAACH,GAAF,KAAUN,IAA1B,EAAgCjC,EAA7C;;AACA,UAAI2C,cAAc,GAAG,CAArB;AACAT,MAAAA,SAAS,IAAK1C,KAAK,GAAG,CAAT,GAAc2C,KAAK,CAAC3C,KAAK,GAAC,CAAP,CAAL,CAAeQ,EAA7B,GAAkC,CAA/C;AACAT,MAAAA,IAAI,CAACqD,OAAL,CAAatD,OAAb,CAAqB,CAACC,IAAD,EAAOC,KAAP,EAAcqD,KAAd,KAAwB;AAC3CF,QAAAA,cAAc,IAAIH,MAAM,GAAGjD,IAAI,CAACS,EAAhC;AACA,YAAI8C,GAAG,GAAGZ,SAAS,GAAGS,cAAtB;AACA,YAAI/C,SAAJ;AACA,YAAID,MAAJ;AACA,YAAIoD,KAAK,GAAG,KAAZ;;AACA,YAAGxD,IAAI,CAACO,IAAL,IAAa,KAAKuB,aAArB,EAAoC;AAClCzB,UAAAA,SAAS,GAAG,IAAZ;AACAO,UAAAA,OAAO,CAACC,GAAR,CAAYb,IAAI,CAACO,IAAL,GAAY,KAAZ,GAAoB,KAAKuB,aAArC;AACD,SAHD,MAIK;AACHzB,UAAAA,SAAS,GAAG,KAAZ;AACD;;AACD,YAAGL,IAAI,CAACO,IAAL,IAAa,KAAKO,UAArB,EAAiC;AAC/BV,UAAAA,MAAM,GAAG,IAAT;AACD,SAFD,MAGK;AACHA,UAAAA,MAAM,GAAG,KAAT;AACD;;AACD,YAAGH,KAAK,IAAIqD,KAAK,CAACG,MAAN,GAAe,CAA3B,EAA8B;AAC5BD,UAAAA,KAAK,GAAG,IAAR;AACD;;AACD,YAAIE,MAAM,GAAG;AACXnD,UAAAA,IAAI,EAAEP,IAAI,CAACO,IADA;AAEXE,UAAAA,EAAE,EAAE8C,GAFO;AAGXP,UAAAA,GAAG,EAAEN,IAHM;AAIXrC,UAAAA,SAAS,EAAEA,SAJA;AAKXD,UAAAA,MAAM,EAAEA,MALG;AAMXD,UAAAA,UAAU,EAAEqD;AAND,SAAb;;AAQAf,QAAAA,MAAM,CAAC9B,IAAP,CAAY+C,MAAZ;AACD,OA/BD;AAgCD,KArCD;AAsCA9C,IAAAA,OAAO,CAACC,GAAR,CAAY4B,MAAZ;AACA,WAAOA,MAAP;AACD;AACD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACE1D,EAAAA,MAAM,GAAG;AACP,QAAIgD,IAAI,GAAG,KAAKJ,KAAL,CAAWI,IAAtB;AACA,QAAIC,MAAM,GAAG,KAAKL,KAAL,CAAWK,MAAxB;AACA,QAAIE,MAAM,GAAG,KAAKP,KAAL,CAAWO,MAAxB;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,8BACE,QAAC,WAAD;AACA,QAAA,EAAE,EAAC,eADH;AAEE,QAAA,OAAO,eAAE,QAAC,GAAD;AAAK,UAAA,GAAG,EAAEyB,OAAO,CAAC,yBAAD;AAAjB;AAAA;AAAA;AAAA;AAAA,gBAFX;AAGE,QAAA,UAAU,EAAE;AAHd;AAAA;AAAA;AAAA;AAAA,cADF,eAME,QAAC,WAAD;AACA,QAAA,EAAE,EAAC,cADH;AAEE,QAAA,OAAO,eAAE,QAAC,GAAD;AAAK,UAAA,GAAG,EAAEA,OAAO,CAAC,wBAAD;AAAjB;AAAA;AAAA;AAAA;AAAA,gBAFX;AAGE,QAAA,UAAU,EAAE/E;AAHd;AAAA;AAAA;AAAA;AAAA,cANF,eAWE,QAAC,SAAD;AACE,QAAA,KAAK,EAAE,KAAK+C,KAAL,CAAWK,MADpB;AAEE,QAAA,UAAU,EAAE,KAAKL,KAAL,CAAWb,UAFzB;AAGE,QAAA,IAAI,EAAE,KAAKa,KAAL,CAAWZ;AAHnB;AAAA;AAAA;AAAA;AAAA,cAXF,eAgBE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAoBD;;AApK+B;;AAsKlC,eAAeW,GAAf;AAIA;;AACA;;AACA;;AAEA,SAASH,aAAT,GAAyB;AACvBX,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACD;;AAED,SAASW,UAAT,GAAsB;AACpBZ,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD;;AAED,SAASY,SAAT,GAAqB;AACnBb,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACD;;AAED,SAASvB,eAAT,GAA2B,CAE1B","sourcesContent":["import React from 'react';\nimport './App.css';\nimport {data_pr} from './data.js';\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/*   Variables & Constants                                                     */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nvar showCam = false;\n\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/*   React classes                                                             */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n// Media related classes -------------------------------------------------------\n\nclass Placeholder extends React.Component {\n  render() {\n    return (\n      <div\n        id={this.props.id}\n        className=\"placeholder\"\n        style={{visibility: this.props.visibility ? \"visible\" : \"hidden\"}}\n      >\n        {this.props.content}\n      </div>\n    );\n  }\n}\n\nclass Video extends React.Component {\n  changeSource() {\n\n  }\n  render() {\n    return (\n      <video\n        id={this.props.id}\n        className=\"\"\n        onEnded={() => videoEndHandler()}\n        src={this.props.src}\n      />\n    );\n  }\n}\n\nclass Img extends React.Component {\n  render() {\n    return (\n      <img\n        id={this.props.id}\n        src={this.props.src}\n      />\n    );\n  }\n}\n\n// Dashboard related classes ---------------------------------------------------\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  makeStatusTable() {\n\n  }\n  makeRangeTable(prOut) {\n    let rows = [];\n    prOut.forEach((item, index) => {\n      let ifClass = '';\n      if(index == 0) {\n        ifClass = 'border-top';\n      }\n      if(item.isEndOfCat) {\n        if(ifClass) {\n          ifClass += ' ';\n        }\n        ifClass += 'border-bottom';\n      }\n      if(item.isPrev) {\n        if(ifClass) {\n          ifClass += ' ';\n        }\n        ifClass += 'prev';\n      }\n      if(item.isCurrent) {\n        if(ifClass) {\n          ifClass += ' ';\n        }\n        ifClass = 'active';\n      }\n      let row = <tr key={index} className={ifClass}><td>{item.code}</td><td>{parseFloat(item.pr).toFixed(3)}</td></tr>;\n      rows.push(row);\n    });\n    return rows;\n  }\n  render() {\n    console.log(this.props.prOut);\n    let rows = this.makeRangeTable(this.props.prOut);\n    return (\n      <div className=\"ui-container-h ui-container-gap abs-left\">\n      <div className=\"ui-panel\">\n        <h1>probability</h1>\n        <table className=\"dashboard\">\n          <tbody id=\"table_dashboard_dice\">\n            <tr><td>prev</td><td>{this.props.prevMotion}</td></tr>\n            <tr><td>random</td><td>{parseFloat(this.props.dice).toFixed(3)}</td></tr>\n          </tbody>\n        </table>\n        <table className=\"dashboard\">\n          <tbody id=\"table_dashboard_pr\">\n            {rows}\n          </tbody>\n        </table>\n      </div>\n      </div>\n    );\n  }\n}\n\n// Footer ----------------------------------------------------------------------\n\nclass Footer extends React.Component {\n  render() {\n    return (\n      <div className=\"footer\">\n        {btnbox_playback}\n        {btnbox_cam}\n        <Playback />\n      </div>\n    );\n  }\n}\n\nclass Playback extends React.Component {\n  render() {\n    return (\n      <input\n        type=\"range\"\n        className=\"playback\"\n        min=\"0\"\n        max=\"100\"\n      />\n    );\n  }\n}\n\n// Generic UI components -------------------------------------------------------\n\nclass Btn extends React.Component {\n  render() {\n    return (\n      <button\n        type=\"button\"\n        id={this.props.id}\n        onClick={this.props.onClick}\n      >\n        {this.props.label}\n      </button>\n    );\n  }\n}\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/* React components                                                            */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nconst btnbox_playback = (\n  <div className=\"ui-container-h ui-container-gap abs-left\">\n    <Btn\n      id=\"btn_start\"\n      label=\"idle start\"\n      onClick={() => setNextMotion()}\n    />\n    <Btn\n      id=\"btn_end\"\n      label=\"idle end\"\n      onClick={() => stopMotion()}\n    />\n  </div>\n);\n\nconst btnbox_cam = (\n  <div className=\"ui-container-h ui-container-gap abs-right\">\n    <Btn\n      id=\"btn_cam\"\n      label=\"change cam\"\n      onClick={() => changeCam()}\n    />\n  </div>\n);\n\n\n\n/*******************************************************************************/\n/*   Assemble!!!   *************************************************************/\n/*******************************************************************************/\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    //let prOut = this.calcPrOut(data_pr);\n    this.state = {\n      sideCamVisible: false,\n      playStatus: 'none',\n      prevMotion: '1-a',\n      currentMotion: '1-b',\n      dice: 0,\n      prIn: data_pr,\n      prOut1: this.calcPrOut(data_pr, 1),\n      prOut2: this.calcPrOut(data_pr, 2)\n    };\n  }\n\n  throwDice() {\n    let _dice = Math.random();\n    this.setState({\n      dice: _dice\n    });\n  }\n\n  calcPrOut(prIn, target) {\n    let _range = [];\n    let _cat;\n    let _pr_accum = 0;\n    let _data = (target < 2) ? prIn.primary : prIn.secondary;\n    prIn.motionGroup.forEach((item, index) => {\n      _cat = item.cat;\n      let pr_cat = _data.find(o => o.cat === _cat).pr;\n      let pr_accum_inCat = 0;\n      _pr_accum += (index > 0) ? _data[index-1].pr : 0;\n      item.motions.forEach((item, index, array) => {\n        pr_accum_inCat += pr_cat * item.pr;\n        let pr1 = _pr_accum + pr_accum_inCat;\n        let isCurrent;\n        let isPrev;\n        let isEnd = false;\n        if(item.code == this.currentMotion) {\n          isCurrent = true;\n          console.log(item.code + \" & \" + this.currentMotion);\n        }\n        else {\n          isCurrent = false;\n        }\n        if(item.code == this.prevMotion) {\n          isPrev = true;\n        }\n        else {\n          isPrev = false;\n        }\n        if(index == array.length - 1) {\n          isEnd = true;\n        }\n        let output = {\n          code: item.code,\n          pr: pr1,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n        _range.push(output);\n      });\n    });\n    console.log(_range);\n    return _range;\n  }\n  /*\n  calcPrOut(prIn) {\n    let _range_1 = [];\n    let _range_2 = [];\n    let _cat;\n    let _pr_accum_1 = 0;\n    let _pr_accum_2 = 0;\n    let _data_1 = prIn.primary;\n    let _data_2 = prIn.secondary;\n    prIn.motionGroup.forEach((item, index) => {\n      _cat = item.cat;\n      let pr_cat_1 = _data_1.find(o => o.cat === _cat).pr;\n      let pr_cat_2 = _data_2.find(o => o.cat === _cat).pr;\n      let pr_accum_inCat_1 = 0;\n      let pr_accum_inCat_2 = 0;\n      if(index > 0) {\n        _pr_accum_1 += _data_1[index-1].pr;\n        _pr_accum_2 += _data_2[index-1].pr;\n      }\n      item.motions.forEach((item, index, array) => {\n        pr_accum_inCat_1 += pr_cat_1 * item.pr;\n        pr_accum_inCat_2 += pr_cat_2 * item.pr;\n        let pr1 = _pr_accum_1 + pr_accum_inCat_1;\n        let pr2 = _pr_accum_2 + pr_accum_inCat_2;\n        let isCurrent;\n        let isPrev;\n        let isEnd = false;\n        if(item.code == this.currentMotion) {\n          isCurrent = true;\n        }\n        else {\n          isCurrent = false;\n        }\n        if(item.code == this.prevMotion) {\n          isPrev = true;\n        }\n        else {\n          isPrev = false;\n        }\n        if(index == array.length - 1) {\n          isEnd = true;\n        }\n        let output_1 = {\n          code: item.code,\n          pr: pr1,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n        let output_2 = {\n          code: item.code,\n          pr: pr2,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n        _range_1.push(output_1);\n        _range_2.push(output_2);\n      });\n    });\n    let output_total = {\n      prOut1: _range_1,\n      prOut2: _range_2\n    }\n    console.log(_range_1);\n    console.log(_range_2);\n    return output_total;\n  }\n  */\n  render() {\n    let prIn = this.state.prIn;\n    let prOut1 = this.state.prOut1;\n    let prOut2 = this.state.prOut2;\n    return (\n      <div className=\"App\">\n        <Placeholder\n        id=\"box_cam_front\"\n          content={<Img src={require('./img/front_default.jpg')}/>}\n          visibility={true}\n        />\n        <Placeholder\n        id=\"box_cam_side\"\n          content={<Img src={require('./img/side_default.jpg')}/>}\n          visibility={showCam}\n        />\n        <Dashboard\n          prOut={this.state.prOut1}\n          prevMotion={this.state.prevMotion}\n          dice={this.state.dice}\n        />\n        <Footer />\n      </div>\n    );\n  }\n}\nexport default App;\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/*   Functions                                                                 */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nfunction setNextMotion() {\n  console.log(\"set next motion and play\");\n}\n\nfunction stopMotion() {\n  console.log(\"stop motion\");\n}\n\nfunction changeCam() {\n  console.log(\"change camera\");\n}\n\nfunction videoEndHandler() {\n\n}\n"]},"metadata":{},"sourceType":"module"}