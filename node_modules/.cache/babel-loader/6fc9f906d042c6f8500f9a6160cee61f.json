{"ast":null,"code":"import _assertThisInitialized from\"/Users/zomme/Github/labs-hri-prototypes/ambidex-idle-sequencer/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _classCallCheck from\"/Users/zomme/Github/labs-hri-prototypes/ambidex-idle-sequencer/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/zomme/Github/labs-hri-prototypes/ambidex-idle-sequencer/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/zomme/Github/labs-hri-prototypes/ambidex-idle-sequencer/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/zomme/Github/labs-hri-prototypes/ambidex-idle-sequencer/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import'./App.css';import{data_pr}from'./data.js';/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */ /*   React classes                                                             */ /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */ // Media related classes -------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Placeholder=/*#__PURE__*/function(_React$Component){_inherits(Placeholder,_React$Component);var _super=_createSuper(Placeholder);function Placeholder(){_classCallCheck(this,Placeholder);return _super.apply(this,arguments);}_createClass(Placeholder,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{id:this.props.id,className:\"placeholder\",style:{visibility:this.props.visibility?\"visible\":\"hidden\"},children:this.props.content});}}]);return Placeholder;}(React.Component);var Video=/*#__PURE__*/function(_React$Component2){_inherits(Video,_React$Component2);var _super2=_createSuper(Video);function Video(){_classCallCheck(this,Video);return _super2.apply(this,arguments);}_createClass(Video,[{key:\"changeSource\",value:function changeSource(){}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"video\",{id:this.props.id,className:\"\",onEnded:function onEnded(){return videoEndHandler();},src:this.props.src});}}]);return Video;}(React.Component);var Img=/*#__PURE__*/function(_React$Component3){_inherits(Img,_React$Component3);var _super3=_createSuper(Img);function Img(){_classCallCheck(this,Img);return _super3.apply(this,arguments);}_createClass(Img,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"img\",{id:this.props.id,src:this.props.src});}}]);return Img;}(React.Component);// Dashboard related classes ---------------------------------------------------\nvar Dashboard=/*#__PURE__*/function(_React$Component4){_inherits(Dashboard,_React$Component4);var _super4=_createSuper(Dashboard);function Dashboard(props){_classCallCheck(this,Dashboard);return _super4.call(this,props);}_createClass(Dashboard,[{key:\"makeRangeTable\",value:function makeRangeTable(prOut){var rows=[];prOut.forEach(function(item,index){var ifClass='';ifClass=index===0?'border-top':ifClass;ifClass+=item.isEndOfCat?(ifClass?' ':'')+'border-bottom':'';ifClass+=item.isPrev?(ifClass?' ':'')+'prev':'';ifClass+=item.isCurrent?(ifClass?' ':'')+'active':'';var row=/*#__PURE__*/_jsxs(\"tr\",{className:ifClass,children:[/*#__PURE__*/_jsx(\"td\",{children:item.code}),/*#__PURE__*/_jsx(\"td\",{children:parseFloat(item.pr).toFixed(3)})]},index);rows.push(row);});return rows;}},{key:\"render\",value:function render(){var rows=this.makeRangeTable(this.props.prOut);return/*#__PURE__*/_jsx(\"div\",{className:\"ui-container-h ui-container-gap abs-left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ui-panel\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"probability\"}),/*#__PURE__*/_jsx(\"table\",{className:\"dashboard\",children:/*#__PURE__*/_jsxs(\"tbody\",{id:\"table_dashboard_dice\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"prev\"}),/*#__PURE__*/_jsx(\"td\",{children:this.props.prevMotion})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"random\"}),/*#__PURE__*/_jsx(\"td\",{children:parseFloat(this.props.dice).toFixed(3)})]})]})}),/*#__PURE__*/_jsx(\"table\",{className:\"dashboard\",children:/*#__PURE__*/_jsx(\"tbody\",{id:\"table_dashboard_pr\",children:rows})})]})});}}]);return Dashboard;}(React.Component);// Controlboard related classes ------------------------------------------------\nvar Controlboard=/*#__PURE__*/function(_React$Component5){_inherits(Controlboard,_React$Component5);var _super5=_createSuper(Controlboard);function Controlboard(props){_classCallCheck(this,Controlboard);return _super5.call(this,props);}_createClass(Controlboard,[{key:\"makeBarTable\",value:function makeBarTable(){var _this=this;var prIn=this.props.data;var rows=[];var data_array=Object.keys(prIn);data_array.forEach(function(set,setIndex){if(set==='primary'||set==='secondary'){var contents=[];var value_old=0;prIn[set].prRatios.forEach(function(item,index){if(index<prIn[set].prRatios.length-1){var value_next=value_old+item.pr+prIn[set].prRatios[index+1].pr;var value=parseInt((item.pr+value_old)*100);var _content=/*#__PURE__*/_jsx(Slider,{id:set+'_'+item.cat,cat:item.cat,value:value,onChange:_this.props.onSliderChange},set+'_'+item.cat);contents.push(_content);value_old+=item.pr;}});var row=/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"header\",children:set}),/*#__PURE__*/_jsx(\"td\",{className:\"cell-slider\",children:contents})]},set);rows.push(row);}else{prIn[set].prRatios.forEach(function(inSet,inSetIndex){var contents=[];var value_old=0;inSet.prRatios.forEach(function(item,index){if(index<inSet.prRatios.length-1){var value_next=value_old+item.pr+prIn[set].prRatios[index+1].pr;var value=parseInt((item.pr+value_old)*100);var _content=/*#__PURE__*/_jsx(Slider,{id:item.code,cat:inSet.cat,value:value,onChange:_this.props.onSliderChange},item.code);contents.push(_content);value_old+=item.pr;}});var row=/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"header\",children:inSet.cat+' ('+inSet.desc+')'}),/*#__PURE__*/_jsx(\"td\",{className:\"cell-slider\",children:contents})]},inSet.cat);if(inSet.prRatios.length>1){rows.push(row);}});}});return rows;}},{key:\"render\",value:function render(){var content=this.makeBarTable();return/*#__PURE__*/_jsxs(\"div\",{className:\"ui-container-v abs-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-mini\",children:\"probability ratio\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ui-panel round-bottom\",children:/*#__PURE__*/_jsx(\"table\",{className:\"controlpanel\",children:/*#__PURE__*/_jsx(\"tbody\",{children:content})})})]});}}]);return Controlboard;}(React.Component);// Footer ----------------------------------------------------------------------\nvar Footer=/*#__PURE__*/function(_React$Component6){_inherits(Footer,_React$Component6);var _super6=_createSuper(Footer);function Footer(){_classCallCheck(this,Footer);return _super6.apply(this,arguments);}_createClass(Footer,[{key:\"render\",value:function render(){var _this2=this;var btn_start='btn_start';var btn_end='btn_end';var btn_cam='btn_cam';return/*#__PURE__*/_jsxs(\"div\",{className:\"footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ui-container-h ui-container-gap abs-left\",children:[/*#__PURE__*/_jsx(Btn,{id:\"btn_start\",label:\"idle start\",onClick:function onClick(){return _this2.props.onClick('btn_start');}}),/*#__PURE__*/_jsx(Btn,{id:\"btn_end\",label:\"idle end\",onClick:function onClick(){return _this2.props.onClick('btn_end');}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ui-container-h ui-container-gap abs-right\",children:/*#__PURE__*/_jsx(Btn,{id:\"btn_cam\",label:\"change cam\",onClick:function onClick(){return _this2.props.onClick('btn_cam');}})}),/*#__PURE__*/_jsx(Playback,{})]});}}]);return Footer;}(React.Component);var Playback=/*#__PURE__*/function(_React$Component7){_inherits(Playback,_React$Component7);var _super7=_createSuper(Playback);function Playback(){_classCallCheck(this,Playback);return _super7.apply(this,arguments);}_createClass(Playback,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:\"playback\",min:\"0\",max:\"100\"});}}]);return Playback;}(React.Component);// Generic UI components -------------------------------------------------------\nvar Btn=/*#__PURE__*/function(_React$Component8){_inherits(Btn,_React$Component8);var _super8=_createSuper(Btn);function Btn(){_classCallCheck(this,Btn);return _super8.apply(this,arguments);}_createClass(Btn,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"button\",{type:\"button\",id:this.props.id,onClick:this.props.onClick,children:this.props.label});}}]);return Btn;}(React.Component);var Slider=/*#__PURE__*/function(_React$Component9){_inherits(Slider,_React$Component9);var _super9=_createSuper(Slider);function Slider(props){var _this3;_classCallCheck(this,Slider);_this3=_super9.call(this,props);_this3.handleChange=_this3.handleChange.bind(_assertThisInitialized(_this3));_this3.handleMouseUp=_this3.handleMouseUp.bind(_assertThisInitialized(_this3));return _this3;}_createClass(Slider,[{key:\"handleChange\",value:function handleChange(e){var value=e.target.value;return this.props.onChange(this.props.id,value);}},{key:\"handleMouseUp\",value:function handleMouseUp(e){console.log(\"input value changed:\");console.log(\"  id: \".concat(this.props.id,\", value: \").concat(this.props.value));}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper-slider\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",id:this.props.id,cat:this.props.cat,className:\"controls\",min:0,max:100,value:this.props.value,onChange:this.handleChange,onMouseUp:this.handleMouseUp}),/*#__PURE__*/_jsx(\"div\",{className:\"slider-indicator\",style:{left:\"calc(6px + (100% - 12px)*\".concat(this.props.value,\"/100)\")},children:this.props.value})]});}}]);return Slider;}(React.Component);/*******************************************************************************/ /*   Assemble!!!   *************************************************************/ /*******************************************************************************/var App=/*#__PURE__*/function(_React$Component10){_inherits(App,_React$Component10);var _super10=_createSuper(App);function App(props){var _this4;_classCallCheck(this,App);_this4=_super10.call(this,props);var prevMotion='none';var currentMotion='none';_this4.state={sideCamVisible:false,playStatus:'none',prevMotion:prevMotion,currentMotion:currentMotion,dice:0,trial:0,prIn:data_pr,prOutType:1,prOut:_this4.calcPrOut(data_pr,1,prevMotion,currentMotion),prOut1:_this4.calcPrOut(data_pr,1,prevMotion,currentMotion),prOut2:_this4.calcPrOut(data_pr,2,prevMotion,currentMotion)};_this4.handleClick=_this4.handleClick.bind(_assertThisInitialized(_this4));_this4.handleSlider=_this4.handleSlider.bind(_assertThisInitialized(_this4));return _this4;}_createClass(App,[{key:\"handleClick\",value:function handleClick(id){///*// DEBUG BTN\nconsole.log(\"button pressed: \".concat(id));//*/// DEBUG BTN\nswitch(id){case'btn_start':this.findMotion();break;case'btn_end':break;case'btn_cam':var toggleCam=!this.state.sideCamVisible;this.setState({sideCamVisible:toggleCam});///*// DEBUG TOGGLECAM\nconsole.log(\"  sideCamVisible: \".concat(toggleCam));//*/// DEBUG TOGGLECAM\nbreak;default:break;}}},{key:\"handleSlider\",value:function handleSlider(id,value){var data=this.state.prIn;// for category ratio\nif(!id.match(/^\\d/)){var set=id.match(/^\\D*(?=_)/)[0];var cat=parseInt(id.match(/\\d*$/)[0]);var _value=parseFloat(value)/100;var _loop=function _loop(i){if(i>0){_value-=data[set].prRatios.find(function(o){return o.cat===i-1;}).pr;}};for(var i=0;i<=cat;i++){_loop(i);}var _value_diff=_value-parseFloat(data[set].prRatios.find(function(o){return o.cat===cat;}).pr);data[set].prRatios.find(function(o){return o.cat===cat;}).pr=_value;data[set].prRatios.find(function(o){return o.cat===cat+1;}).pr-=_value_diff;}// for motion ratio in category\nelse{(function(){var cat=parseInt(id.match(/^\\d*(?=-)/)[0]);var data_cat=data.motionGroup.prRatios.find(function(o){return o.cat===cat;}).prRatios;var _value=parseFloat(value)/100;for(var _i=0;_i<data_cat.length-1;_i++){if(_i>0){_value-=data_cat[_i-1].pr;}}for(var index=0;index<data_cat.length;index++){if(data_cat[index].code===id){var _value_diff2=_value-data_cat[index].pr;data_cat[index].pr=_value;data_cat[index+1].pr-=_value_diff2;data.motionGroup.prRatios.find(function(o){return o.cat===cat;}).prRatios=data_cat;break;}}})();}this.setState({prIn:data});this.setPrOut();}},{key:\"findMotion\",value:function findMotion(){var dice=Math.random();var current=this.state.currentMotion;var prev=this.state.prevMotion;var fix='1-a';var prOutType=this.state.prOutType;prOutType=prOutType===1?current===fix?2:1:1;var prOut=prOutType===2?this.state.prOut2:this.state.prOut1;var temp=this.findCurrent(dice,prOut);///*// DEBUG DICE\nconsole.log(\"======== iteration start ========\");var trial=this.state.trial+1;var debugbar=\"\";for(var i=0;i<20-trial.toString().length;i++){debugbar+=\"-\";}console.log(\"dice trial: \".concat(trial,\" \").concat(debugbar));console.log(\"  dice thrown: \".concat(dice.toFixed(3)));console.log(\"  prev motion: \".concat(current));console.log(\"  new motion: \".concat(temp));while(temp===current&&temp!=fix){dice=Math.random();temp=this.findCurrent(dice,prOut);// DEBUG DICE REPEAT\nconsole.log('  (repeat trial)');console.log(\"  dice thrown: \".concat(dice.toFixed(3)));console.log(\"  new motion: \".concat(temp));}console.log(\"(dice trial ends) ---------------\");//*/// DEBUG DICE\nprev=current;current=temp;prOut.forEach(function(item){item.isPrev=false;item.isCurrent=false;});var codes=prOut.map(function(item){return item.code;});if(codes.includes(prev)){prOut.find(function(o){return o.code===prev;}).isPrev=true;}prOut.find(function(o){return o.code===current;}).isCurrent=true;this.setState({dice:dice,trial:trial,prevMotion:prev,currentMotion:current,prOutType:prOutType,prOut:prOut});///*// DEBUG PROUT\nconsole.log(\"prOut: \"+JSON.stringify(this.state.prOut,null,2));//*/// DEBUG PROUT\nreturn current;}},{key:\"findCurrent\",value:function findCurrent(dice,prOut){for(var i=0;i<prOut.length;i++){if(dice<prOut[i].pr){return prOut[i].code;}}}},{key:\"calcPrOut\",value:function calcPrOut(prIn,target,prev,current){var _range=[];var _cat;var _pr_accum=0;var _data=target===1?prIn.primary.prRatios:prIn.secondary.prRatios;prIn.motionGroup.prRatios.forEach(function(item,index){_cat=item.cat;var pr_cat=_data.find(function(o){return o.cat===_cat;}).pr;var pr_accum_inCat=0;_pr_accum+=index>0?_data[index-1].pr:0;item.prRatios.forEach(function(item,index,array){pr_accum_inCat+=pr_cat*item.pr;var pr1=_pr_accum+pr_accum_inCat;var isCurrent=item.code===current?true:false;var isPrev=item.code===prev?true:false;var isEnd=index===array.length-1?true:false;var output={code:item.code,pr:pr1,cat:_cat,isCurrent:isCurrent,isPrev:isPrev,isEndOfCat:isEnd};_range.push(output);});});return _range;}},{key:\"setPrOut\",value:function setPrOut(){var _pr1=this.calcPrOut(this.state.prIn,1,this.state.prevMotion,this.state.currentMotion);var _pr2=this.calcPrOut(this.state.prIn,2,this.state.prevMotion,this.state.currentMotion);var prOut=this.state.prOutType==2?_pr2:_pr1;this.setState({prOut:prOut,prOut1:_pr1,prOut2:_pr2});}},{key:\"showSideCam\",value:function showSideCam(){return this.state.sideCamVisible?\"visible\":\"hidden\";}},{key:\"render\",value:function render(){var _this5=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Placeholder,{id:\"box_cam_front\",content:/*#__PURE__*/_jsx(Img,{src:require('./img/front_default.jpg')}),visibility:true}),/*#__PURE__*/_jsx(Placeholder,{id:\"box_cam_side\",content:/*#__PURE__*/_jsx(Img,{src:require('./img/side_default.jpg')}),visibility:this.state.sideCamVisible}),/*#__PURE__*/_jsx(Dashboard,{prOut:this.state.prOut,prevMotion:this.state.prevMotion,dice:this.state.dice}),/*#__PURE__*/_jsx(Controlboard,{data:this.state.prIn,onSliderChange:this.handleSlider}),/*#__PURE__*/_jsx(Footer,{onClick:function onClick(id){return _this5.handleClick(id);}})]});}}]);return App;}(React.Component);export default App;/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */ /*   Functions                                                                 */ /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */function setNextMotion(){console.log(\"set next motion and play\");}function stopMotion(){console.log(\"stop motion\");}function videoEndHandler(){}function blabla(){console.log('bla bla');}function clamp(value,min,max){return Math.min(Math.max(value,min),max);}","map":{"version":3,"sources":["/Users/zomme/Github/labs-hri-prototypes/ambidex-idle-sequencer/src/App.js"],"names":["React","data_pr","Placeholder","props","id","visibility","content","Component","Video","videoEndHandler","src","Img","Dashboard","prOut","rows","forEach","item","index","ifClass","isEndOfCat","isPrev","isCurrent","row","code","parseFloat","pr","toFixed","push","makeRangeTable","prevMotion","dice","Controlboard","prIn","data","data_array","Object","keys","set","setIndex","contents","value_old","prRatios","length","value_next","value","parseInt","_content","cat","onSliderChange","inSet","inSetIndex","desc","makeBarTable","Footer","btn_start","btn_end","btn_cam","onClick","Playback","Btn","label","Slider","handleChange","bind","handleMouseUp","e","target","onChange","console","log","left","App","currentMotion","state","sideCamVisible","playStatus","trial","prOutType","calcPrOut","prOut1","prOut2","handleClick","handleSlider","findMotion","toggleCam","setState","match","_value","i","find","o","_value_diff","data_cat","motionGroup","setPrOut","Math","random","current","prev","fix","temp","findCurrent","debugbar","toString","codes","map","includes","JSON","stringify","_range","_cat","_pr_accum","_data","primary","secondary","pr_cat","pr_accum_inCat","array","pr1","isEnd","output","_pr1","_pr2","require","setNextMotion","stopMotion","blabla","clamp","min","max"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport {data_pr} from './data.js';\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/*   React classes                                                             */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n// Media related classes -------------------------------------------------------\n\nclass Placeholder extends React.Component {\n  render() {\n    return (\n      <div\n        id={this.props.id}\n        className=\"placeholder\"\n        style={{visibility: this.props.visibility ? \"visible\" : \"hidden\"}}\n      >\n        {this.props.content}\n      </div>\n    );\n  }\n}\n\nclass Video extends React.Component {\n  changeSource() {\n\n  }\n  render() {\n    return (\n      <video\n        id={this.props.id}\n        className=\"\"\n        onEnded={() => videoEndHandler()}\n        src={this.props.src}\n      />\n    );\n  }\n}\n\nclass Img extends React.Component {\n  render() {\n    return (\n      <img\n        id={this.props.id}\n        src={this.props.src}\n      />\n    );\n  }\n}\n\n// Dashboard related classes ---------------------------------------------------\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  makeRangeTable(prOut) {\n    let rows = [];\n    prOut.forEach((item, index) => {\n      let ifClass = '';\n      ifClass = (index === 0) ? 'border-top' : ifClass;\n      ifClass += (item.isEndOfCat) ?\n        ((ifClass ? ' ' : '') + 'border-bottom')\n        : '';\n      ifClass += (item.isPrev) ?\n        ((ifClass ? ' ' : '') + 'prev')\n        : '';\n      ifClass += (item.isCurrent) ?\n        ((ifClass ? ' ' : '') + 'active')\n        : '';\n      let row = <tr key={index} className={ifClass}>\n        <td>{item.code}</td>\n        <td>{parseFloat(item.pr).toFixed(3)}</td>\n        </tr>;\n      rows.push(row);\n    });\n    return rows;\n  }\n\n  render() {\n    let rows = this.makeRangeTable(this.props.prOut);\n    return (\n      <div className=\"ui-container-h ui-container-gap abs-left\">\n      <div className=\"ui-panel\">\n        <h1>probability</h1>\n        <table className=\"dashboard\">\n          <tbody id=\"table_dashboard_dice\">\n            <tr><td>prev</td><td>{this.props.prevMotion}</td></tr>\n            <tr><td>random</td><td>{parseFloat(this.props.dice).toFixed(3)}</td></tr>\n          </tbody>\n        </table>\n        <table className=\"dashboard\">\n          <tbody id=\"table_dashboard_pr\">\n            {rows}\n          </tbody>\n        </table>\n      </div>\n      </div>\n    );\n  }\n}\n\n// Controlboard related classes ------------------------------------------------\n\nclass Controlboard extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  makeBarTable() {\n    const prIn = this.props.data;\n    let rows = [];\n    const data_array = Object.keys(prIn);\n    data_array.forEach((set, setIndex) => {\n      if (set === 'primary' || set === 'secondary') {\n        let contents = [];\n        let value_old = 0;\n        prIn[set].prRatios.forEach((item, index) => {\n          if (index < prIn[set].prRatios.length - 1) {\n            const value_next =\n              value_old +\n              item.pr +\n              prIn[set].prRatios[index + 1].pr;\n            const value = parseInt((item.pr + value_old)*100);\n            const _content = <Slider\n              id={set+'_'+item.cat}\n              key={set+'_'+item.cat}\n              cat={item.cat}\n              value={value}\n              onChange={this.props.onSliderChange}\n            />;\n            contents.push(_content);\n            value_old += item.pr;\n          }\n        });\n        let row = <tr key={set}>\n          <td className=\"header\">{set}</td>\n          <td className=\"cell-slider\">{contents}</td>\n        </tr>;\n        rows.push(row);\n      }\n      else {\n        prIn[set].prRatios.forEach((inSet, inSetIndex) => {\n          let contents = [];\n          let value_old = 0;\n          inSet.prRatios.forEach((item, index) => {\n            if (index < inSet.prRatios.length - 1) {\n              const value_next =\n                value_old +\n                item.pr +\n                prIn[set].prRatios[index + 1].pr;\n              const value = parseInt((item.pr + value_old)*100);\n              const _content = <Slider\n                id={item.code}\n                key={item.code}\n                cat={inSet.cat}\n                value={value}\n                onChange={this.props.onSliderChange}\n              />;\n              contents.push(_content);\n              value_old += item.pr;\n            }\n          });\n          let row = <tr key={inSet.cat}>\n            <td className=\"header\">{inSet.cat + ' (' + inSet.desc + ')'}</td>\n            <td className=\"cell-slider\">{contents}</td>\n          </tr>;\n          if(inSet.prRatios.length > 1) {\n            rows.push(row);\n          }\n        });\n      }\n    });\n    return rows;\n  }\n\n  render() {\n    let content = this.makeBarTable();\n    return (\n      <div className=\"ui-container-v abs-right\">\n        <div className=\"header-mini\">probability ratio</div>\n        <div className=\"ui-panel round-bottom\">\n        <table className=\"controlpanel\">\n          <tbody>\n            {content}\n          </tbody>\n        </table>\n        </div>\n      </div>\n    );\n  }\n}\n\n// Footer ----------------------------------------------------------------------\n\nclass Footer extends React.Component {\n  render() {\n    const btn_start = 'btn_start';\n    const btn_end = 'btn_end';\n    const btn_cam = 'btn_cam';\n    return (\n      <div className=\"footer\">\n        <div className=\"ui-container-h ui-container-gap abs-left\">\n          <Btn\n            id=\"btn_start\"\n            label=\"idle start\"\n            onClick={() => this.props.onClick('btn_start')}\n          />\n          <Btn\n            id=\"btn_end\"\n            label=\"idle end\"\n            onClick={() => this.props.onClick('btn_end')}\n          />\n        </div>\n        <div className=\"ui-container-h ui-container-gap abs-right\">\n          <Btn\n            id=\"btn_cam\"\n            label=\"change cam\"\n            onClick={() => this.props.onClick('btn_cam')}\n          />\n        </div>\n        <Playback />\n      </div>\n    );\n  }\n}\n\nclass Playback extends React.Component {\n  render() {\n    return (\n      <input\n        type=\"range\"\n        className=\"playback\"\n        min=\"0\"\n        max=\"100\"\n      />\n    );\n  }\n}\n\n// Generic UI components -------------------------------------------------------\n\nclass Btn extends React.Component {\n  render() {\n    return (\n      <button\n        type=\"button\"\n        id={this.props.id}\n        onClick={this.props.onClick}\n      >\n        {this.props.label}\n      </button>\n    );\n  }\n}\n\nclass Slider extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n  }\n  handleChange(e) {\n    const value = e.target.value;\n    return this.props.onChange(this.props.id, value);\n  }\n  handleMouseUp(e) {\n    console.log(\"input value changed:\");\n    console.log(`  id: ${this.props.id}, value: ${this.props.value}`);\n  }\n  render() {\n    return (\n      <div className=\"wrapper-slider\">\n        <input\n          type=\"range\"\n          id={this.props.id}\n          cat={this.props.cat}\n          className='controls'\n          min={0}\n          max={100}\n          value={this.props.value}\n          onChange={this.handleChange}\n          onMouseUp={this.handleMouseUp}\n        />\n        <div\n          className=\"slider-indicator\"\n          style={{left: `calc(6px + (100% - 12px)*${this.props.value}/100)`}}\n        >\n          {this.props.value}</div>\n      </div>\n    );\n  }\n}\n\n/*******************************************************************************/\n/*   Assemble!!!   *************************************************************/\n/*******************************************************************************/\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    let prevMotion = 'none';\n    let currentMotion = 'none';\n    this.state = {\n      sideCamVisible: false,\n      playStatus: 'none',\n      prevMotion: prevMotion,\n      currentMotion: currentMotion,\n      dice: 0,\n      trial: 0,\n      prIn: data_pr,\n      prOutType: 1,\n      prOut: this.calcPrOut(data_pr, 1, prevMotion, currentMotion),\n      prOut1: this.calcPrOut(data_pr, 1, prevMotion, currentMotion),\n      prOut2: this.calcPrOut(data_pr, 2, prevMotion, currentMotion)\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleSlider = this.handleSlider.bind(this);\n  }\n\n  handleClick(id) {\n    ///*// DEBUG BTN\n    console.log(`button pressed: ${id}`);\n    //*/// DEBUG BTN\n    switch(id) {\n      case 'btn_start':\n        this.findMotion();\n        break;\n      case 'btn_end':\n        break;\n      case 'btn_cam':\n        const toggleCam = !this.state.sideCamVisible;\n        this.setState({sideCamVisible: toggleCam});\n        ///*// DEBUG TOGGLECAM\n        console.log(`  sideCamVisible: ${toggleCam}`);\n        //*/// DEBUG TOGGLECAM\n        break;\n      default:\n        break;\n    }\n  }\n\n  handleSlider(id, value) {\n    let data = this.state.prIn;\n    // for category ratio\n    if(!id.match(/^\\d/)) {\n      const set = id.match(/^\\D*(?=_)/)[0];\n      const cat = parseInt(id.match(/\\d*$/)[0]);\n      let _value = parseFloat(value)/100;\n      for(let i = 0; i <= cat; i++) {\n        if(i > 0) {\n          _value -= data[set].prRatios.find(o => o.cat === i-1).pr;\n        }\n      }\n      const _value_diff = _value -\n        parseFloat(data[set].prRatios.find(o => o.cat === cat).pr);\n      data[set].prRatios.find(o => o.cat === cat).pr = _value;\n      data[set].prRatios.find(o => o.cat === cat+1).pr -= _value_diff;\n    }\n    // for motion ratio in category\n    else {\n      const cat = parseInt(id.match(/^\\d*(?=-)/)[0]);\n      let data_cat = data.motionGroup.prRatios.find(o => o.cat === cat).prRatios;\n      let _value = parseFloat(value)/100;\n      for(let i = 0; i < data_cat.length - 1; i++) {\n        if(i > 0) {\n          _value -= data_cat[i-1].pr;\n        }\n      }\n      for(let index = 0; index < data_cat.length;index++) {\n        if(data_cat[index].code === id) {\n          const _value_diff = _value - data_cat[index].pr;\n          data_cat[index].pr = _value;\n          data_cat[index+1].pr -= _value_diff;\n          data.motionGroup.prRatios.find(o => o.cat === cat).prRatios = data_cat;\n          break;\n        }\n      }\n    }\n    this.setState({prIn: data});\n    this.setPrOut();\n  }\n\n  findMotion() {\n    let dice = Math.random();\n    let current = this.state.currentMotion;\n    let prev = this.state.prevMotion;\n    let fix = '1-a';\n    let prOutType = this.state.prOutType;\n    prOutType = (prOutType === 1) ?\n      ((current === fix) ? 2 : 1) : 1;\n    let prOut = (prOutType === 2) ? this.state.prOut2 : this.state.prOut1;\n    let temp = this.findCurrent(dice, prOut);\n\n    ///*// DEBUG DICE\n    console.log(\"======== iteration start ========\");\n    const trial = this.state.trial + 1;\n    let debugbar = \"\";\n    for (let i = 0; i < 20 - trial.toString().length; i++) {\n      debugbar += \"-\";\n    }\n    console.log(`dice trial: ${trial} ${debugbar}`);\n    console.log(`  dice thrown: ${dice.toFixed(3)}`);\n    console.log(`  prev motion: ${current}`);\n    console.log(`  new motion: ${temp}`);\n    while(temp === current && temp != fix) {\n      dice = Math.random();\n      temp = this.findCurrent(dice, prOut);\n      // DEBUG DICE REPEAT\n      console.log('  (repeat trial)');\n      console.log(`  dice thrown: ${dice.toFixed(3)}`);\n      console.log(`  new motion: ${temp}`);\n    }\n    console.log(\"(dice trial ends) ---------------\");\n    //*/// DEBUG DICE\n\n    prev = current;\n    current = temp;\n    prOut.forEach(item => {\n      item.isPrev = false;\n      item.isCurrent = false;\n    });\n    const codes = prOut.map(item => {\n      return item.code;\n    });\n    if(codes.includes(prev)) {\n      prOut.find(o => o.code === prev).isPrev = true;\n    }\n    prOut.find(o => o.code === current).isCurrent = true;\n    this.setState({\n      dice: dice,\n      trial: trial,\n      prevMotion: prev,\n      currentMotion: current,\n      prOutType: prOutType,\n      prOut: prOut\n    });\n\n    ///*// DEBUG PROUT\n    console.log(\"prOut: \" + JSON.stringify(this.state.prOut, null, 2));\n    //*/// DEBUG PROUT\n\n    return current;\n  }\n\n  findCurrent(dice, prOut) {\n    for (let i = 0; i < prOut.length; i++) {\n      if(dice < prOut[i].pr) {\n        return prOut[i].code;\n      }\n    }\n  }\n\n  calcPrOut(prIn, target, prev, current) {\n    let _range = [];\n    let _cat;\n    let _pr_accum = 0;\n    let _data = (target === 1) ?\n      prIn.primary.prRatios : prIn.secondary.prRatios;\n    prIn.motionGroup.prRatios.forEach((item, index) => {\n      _cat = item.cat;\n      let pr_cat = _data.find(o => o.cat === _cat).pr;\n      let pr_accum_inCat = 0;\n      _pr_accum += (index > 0) ? _data[index-1].pr : 0;\n      item.prRatios.forEach((item, index, array) => {\n        pr_accum_inCat += pr_cat * item.pr;\n        let pr1 = _pr_accum + pr_accum_inCat;\n        let isCurrent = (item.code === current) ? true : false;\n        let isPrev = (item.code === prev) ? true : false;\n        let isEnd = (index === array.length - 1) ? true : false;\n        let output = {\n          code: item.code,\n          pr: pr1,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n        _range.push(output);\n      });\n    });\n    return _range;\n  }\n\n  setPrOut() {\n    const _pr1 = this.calcPrOut(\n      this.state.prIn,\n      1,\n      this.state.prevMotion,\n      this.state.currentMotion\n    );\n    const _pr2 = this.calcPrOut(\n      this.state.prIn,\n      2,\n      this.state.prevMotion,\n      this.state.currentMotion\n    );\n    const prOut = (this.state.prOutType == 2) ? _pr2 : _pr1;\n    this.setState({\n      prOut: prOut,\n      prOut1: _pr1,\n      prOut2: _pr2\n    });\n  }\n\n  showSideCam() {\n    return (this.state.sideCamVisible) ? \"visible\" : \"hidden\";\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <Placeholder\n        id=\"box_cam_front\"\n          content={<Img src={require('./img/front_default.jpg')}/>}\n          visibility={true}\n        />\n        <Placeholder\n        id=\"box_cam_side\"\n          content={<Img src={require('./img/side_default.jpg')}/>}\n          visibility={this.state.sideCamVisible}\n        />\n        <Dashboard\n          prOut={this.state.prOut}\n          prevMotion={this.state.prevMotion}\n          dice={this.state.dice}\n        />\n        <Controlboard\n          data={this.state.prIn}\n          onSliderChange={this.handleSlider}\n          />\n        <Footer\n          onClick={id => this.handleClick(id)}\n        />\n      </div>\n    );\n  }\n}\nexport default App;\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/*   Functions                                                                 */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nfunction setNextMotion() {\n  console.log(\"set next motion and play\");\n}\n\nfunction stopMotion() {\n  console.log(\"stop motion\");\n}\n\nfunction videoEndHandler() {\n\n}\n\nfunction blabla() {\n  console.log('bla bla');\n}\n\nfunction clamp(value, min, max) {\n  return (Math.min(Math.max(value, min), max));\n}\n"]},"metadata":{},"sourceType":"module"}