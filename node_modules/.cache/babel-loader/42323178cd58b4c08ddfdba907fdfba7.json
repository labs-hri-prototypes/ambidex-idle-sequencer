{"ast":null,"code":"var _jsxFileName = \"/Users/zomme/Github/labs-hri-prototypes/ambidex-idle-sequencer/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { data_pr } from './data.js';\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/*   Variables & Constants                                                     */\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar showCam = false;\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/*   React classes                                                             */\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n// Media related classes -------------------------------------------------------\n\nclass Placeholder extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: this.props.id,\n      className: \"placeholder\",\n      style: {\n        visibility: this.props.visibility ? \"visible\" : \"hidden\"\n      },\n      children: this.props.content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Video extends React.Component {\n  changeSource() {}\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"video\", {\n      id: this.props.id,\n      className: \"\",\n      onEnded: () => videoEndHandler(),\n      src: this.props.src\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Img extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      id: this.props.id,\n      src: this.props.src\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n\n} // Dashboard related classes ---------------------------------------------------\n\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  makeStatusTable() {}\n\n  makeRangeTable(prOut) {\n    let rows = [];\n    prOut.forEach((item, index) => {\n      let ifClass = '';\n\n      if (index == 0) {\n        ifClass = 'border-top';\n      }\n\n      if (item.isEndOfCat) {\n        if (ifClass) {\n          ifClass += ' ';\n        }\n\n        ifClass += 'border-bottom';\n      }\n\n      if (item.isPrev) {\n        if (ifClass) {\n          ifClass += ' ';\n        }\n\n        ifClass += 'prev';\n      }\n\n      if (item.isCurrent) {\n        if (ifClass) {\n          ifClass += ' ';\n        }\n\n        ifClass = 'active';\n      }\n\n      let row = /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: ifClass,\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.code\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: parseFloat(item.pr).toFixed(3)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 61\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this);\n\n      rows.push(row);\n    });\n    return rows;\n  }\n\n  render() {\n    console.log(this.props.prOut);\n    let rows = this.makeRangeTable(this.props.prOut);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ui-container-h ui-container-gap abs-left\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ui-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"probability\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"dashboard\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            id: \"table_dashboard_random\",\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"prev\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"1-a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"random\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"0.333\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"dashboard\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            id: \"table_dashboard_pr\",\n            children: rows\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  }\n\n} // Footer ----------------------------------------------------------------------\n\n\nclass Footer extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer\",\n      children: [btnbox_playback, btnbox_cam, /*#__PURE__*/_jsxDEV(Playback, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Playback extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      className: \"playback\",\n      min: \"0\",\n      max: \"100\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  }\n\n} // Generic UI components -------------------------------------------------------\n\n\nclass Btn extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      id: this.props.id,\n      onClick: this.props.onClick,\n      children: this.props.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/* React components                                                            */\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n\nconst btnbox_playback = /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"ui-container-h ui-container-gap abs-left\",\n  children: [/*#__PURE__*/_jsxDEV(Btn, {\n    id: \"btn_start\",\n    label: \"idle start\",\n    onClick: () => setNextMotion()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Btn, {\n    id: \"btn_end\",\n    label: \"idle end\",\n    onClick: () => stopMotion()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 174,\n  columnNumber: 3\n}, this);\n\nconst btnbox_cam = /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"ui-container-h ui-container-gap abs-right\",\n  children: /*#__PURE__*/_jsxDEV(Btn, {\n    id: \"btn_cam\",\n    label: \"change cam\",\n    onClick: () => changeCam()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 189,\n  columnNumber: 3\n}, this);\n/*******************************************************************************/\n\n/*   Assemble!!!   *************************************************************/\n\n/*******************************************************************************/\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    let prOut = this.calcPrOut(data_pr);\n    this.state = {\n      sideCamVisible: false,\n      playStatus: 'none',\n      prevMotion: 'none',\n      currentMotion: 'none',\n      dice: 0,\n      prIn: data_pr,\n      prOut1: prOut.prOut1,\n      prOut2: prOut.prOut2\n    };\n  }\n\n  throwDice() {\n    let _dice = Math.random();\n\n    this.setState({\n      dice: _dice\n    });\n  }\n\n  calcPrOut(prIn) {\n    let _range_1 = [];\n    let _range_2 = [];\n\n    let _cat;\n\n    let _pr_accum_1 = 0;\n    let _pr_accum_2 = 0;\n    let _data_1 = prIn.primary;\n    let _data_2 = prIn.secondary;\n    prIn.motionGroup.forEach((item, index) => {\n      _cat = item.cat;\n\n      let pr_cat_1 = _data_1.find(o => o.cat === _cat).pr;\n\n      let pr_cat_2 = _data_2.find(o => o.cat === _cat).pr;\n\n      let pr_accum_inCat_1 = 0;\n      let pr_accum_inCat_2 = 0;\n\n      if (index > 0) {\n        _pr_accum_1 += _data_1[index - 1].pr;\n        _pr_accum_2 += _data_2[index - 1].pr;\n      }\n\n      item.motions.forEach((item, index, array) => {\n        pr_accum_inCat_1 += pr_cat_1 * item.pr;\n        pr_accum_inCat_2 += pr_cat_2 * item.pr;\n        let pr1 = _pr_accum_1 + pr_accum_inCat_1;\n        let pr2 = _pr_accum_2 + pr_accum_inCat_2;\n        let isCurrent;\n        let isPrev;\n        let isEnd = false;\n\n        if (item.code == this.currentMotion) {\n          isCurrent = true;\n        } else {\n          isCurrent = false;\n        }\n\n        if (item.code == this.prevMotion) {\n          isPrev = true;\n        } else {\n          isPrev = false;\n        }\n\n        if (index == array.length - 1) {\n          isEnd = true;\n        }\n\n        let output_1 = {\n          code: item.code,\n          pr: pr1,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n        let output_2 = {\n          code: item.code,\n          pr: pr2,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n\n        _range_1.push(output_1);\n\n        _range_2.push(output_2);\n      });\n    });\n    let output_total = {\n      prOut1: _range_1,\n      prOut2: _range_2\n    };\n    console.log(_range_1);\n    console.log(_range_2);\n    return output_total;\n  }\n\n  render() {\n    let prIn = this.state.prIn;\n    let prOut1 = this.state.prOut1;\n    let prOut2 = this.state.prOut2;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Placeholder, {\n        id: \"box_cam_front\",\n        content: /*#__PURE__*/_jsxDEV(Img, {\n          src: require('./img/front_default.jpg')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 20\n        }, this),\n        visibility: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Placeholder, {\n        id: \"box_cam_side\",\n        content: /*#__PURE__*/_jsxDEV(Img, {\n          src: require('./img/side_default.jpg')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 20\n        }, this),\n        visibility: showCam\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dashboard, {\n        prOut: this.state.prOut1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n/*   Functions                                                                 */\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nfunction setNextMotion() {\n  console.log(\"set next motion and play\");\n}\n\nfunction stopMotion() {\n  console.log(\"stop motion\");\n}\n\nfunction changeCam() {\n  console.log(\"change camera\");\n}\n\nfunction videoEndHandler() {}","map":{"version":3,"sources":["/Users/zomme/Github/labs-hri-prototypes/ambidex-idle-sequencer/src/App.js"],"names":["React","data_pr","showCam","Placeholder","Component","render","props","id","visibility","content","Video","changeSource","videoEndHandler","src","Img","Dashboard","constructor","makeStatusTable","makeRangeTable","prOut","rows","forEach","item","index","ifClass","isEndOfCat","isPrev","isCurrent","row","code","parseFloat","pr","toFixed","push","console","log","Footer","btnbox_playback","btnbox_cam","Playback","Btn","onClick","label","setNextMotion","stopMotion","changeCam","App","calcPrOut","state","sideCamVisible","playStatus","prevMotion","currentMotion","dice","prIn","prOut1","prOut2","throwDice","_dice","Math","random","setState","_range_1","_range_2","_cat","_pr_accum_1","_pr_accum_2","_data_1","primary","_data_2","secondary","motionGroup","cat","pr_cat_1","find","o","pr_cat_2","pr_accum_inCat_1","pr_accum_inCat_2","motions","array","pr1","pr2","isEnd","length","output_1","output_2","output_total","require"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport {data_pr} from './data.js';\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/*   Variables & Constants                                                     */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\nvar showCam = false;\n\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/*   React classes                                                             */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n// Media related classes -------------------------------------------------------\n\nclass Placeholder extends React.Component {\n  render() {\n    return (\n      <div\n        id={this.props.id}\n        className=\"placeholder\"\n        style={{visibility: this.props.visibility ? \"visible\" : \"hidden\"}}\n      >\n        {this.props.content}\n      </div>\n    );\n  }\n}\n\nclass Video extends React.Component {\n  changeSource() {\n\n  }\n  render() {\n    return (\n      <video\n        id={this.props.id}\n        className=\"\"\n        onEnded={() => videoEndHandler()}\n        src={this.props.src}\n      />\n    );\n  }\n}\n\nclass Img extends React.Component {\n  render() {\n    return (\n      <img\n        id={this.props.id}\n        src={this.props.src}\n      />\n    );\n  }\n}\n\n// Dashboard related classes ---------------------------------------------------\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  makeStatusTable() {\n\n  }\n  makeRangeTable(prOut) {\n    let rows = [];\n    prOut.forEach((item, index) => {\n      let ifClass = '';\n      if(index == 0) {\n        ifClass = 'border-top';\n      }\n      if(item.isEndOfCat) {\n        if(ifClass) {\n          ifClass += ' ';\n        }\n        ifClass += 'border-bottom';\n      }\n      if(item.isPrev) {\n        if(ifClass) {\n          ifClass += ' ';\n        }\n        ifClass += 'prev';\n      }\n      if(item.isCurrent) {\n        if(ifClass) {\n          ifClass += ' ';\n        }\n        ifClass = 'active';\n      }\n      let row = <tr className={ifClass}><td>{item.code}</td><td>{parseFloat(item.pr).toFixed(3)}</td></tr>;\n      rows.push(row);\n    });\n    return rows;\n  }\n  render() {\n    console.log(this.props.prOut);\n    let rows = this.makeRangeTable(this.props.prOut);\n    return (\n      <div className=\"ui-container-h ui-container-gap abs-left\">\n      <div className=\"ui-panel\">\n        <h1>probability</h1>\n        <table className=\"dashboard\">\n          <tbody id=\"table_dashboard_random\">\n            <tr><td>prev</td><td>1-a</td></tr>\n            <tr><td>random</td><td>0.333</td></tr>\n          </tbody>\n        </table>\n        <table className=\"dashboard\">\n          <tbody id=\"table_dashboard_pr\">\n            {rows}\n          </tbody>\n        </table>\n      </div>\n      </div>\n    );\n  }\n}\n\n// Footer ----------------------------------------------------------------------\n\nclass Footer extends React.Component {\n  render() {\n    return (\n      <div className=\"footer\">\n        {btnbox_playback}\n        {btnbox_cam}\n        <Playback />\n      </div>\n    );\n  }\n}\n\nclass Playback extends React.Component {\n  render() {\n    return (\n      <input\n        type=\"range\"\n        className=\"playback\"\n        min=\"0\"\n        max=\"100\"\n      />\n    );\n  }\n}\n\n// Generic UI components -------------------------------------------------------\n\nclass Btn extends React.Component {\n  render() {\n    return (\n      <button\n        type=\"button\"\n        id={this.props.id}\n        onClick={this.props.onClick}\n      >\n        {this.props.label}\n      </button>\n    );\n  }\n}\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/* React components                                                            */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nconst btnbox_playback = (\n  <div className=\"ui-container-h ui-container-gap abs-left\">\n    <Btn\n      id=\"btn_start\"\n      label=\"idle start\"\n      onClick={() => setNextMotion()}\n    />\n    <Btn\n      id=\"btn_end\"\n      label=\"idle end\"\n      onClick={() => stopMotion()}\n    />\n  </div>\n);\n\nconst btnbox_cam = (\n  <div className=\"ui-container-h ui-container-gap abs-right\">\n    <Btn\n      id=\"btn_cam\"\n      label=\"change cam\"\n      onClick={() => changeCam()}\n    />\n  </div>\n);\n\n\n\n/*******************************************************************************/\n/*   Assemble!!!   *************************************************************/\n/*******************************************************************************/\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    let prOut = this.calcPrOut(data_pr);\n    this.state = {\n      sideCamVisible: false,\n      playStatus: 'none',\n      prevMotion: 'none',\n      currentMotion: 'none',\n      dice: 0,\n      prIn: data_pr,\n      prOut1: prOut.prOut1,\n      prOut2: prOut.prOut2\n    };\n  }\n\n  throwDice() {\n    let _dice = Math.random();\n    this.setState({\n      dice: _dice\n    });\n  }\n\n  calcPrOut(prIn) {\n    let _range_1 = [];\n    let _range_2 = [];\n    let _cat;\n    let _pr_accum_1 = 0;\n    let _pr_accum_2 = 0;\n    let _data_1 = prIn.primary;\n    let _data_2 = prIn.secondary;\n\n    prIn.motionGroup.forEach((item, index) => {\n      _cat = item.cat;\n      let pr_cat_1 = _data_1.find(o => o.cat === _cat).pr;\n      let pr_cat_2 = _data_2.find(o => o.cat === _cat).pr;\n      let pr_accum_inCat_1 = 0;\n      let pr_accum_inCat_2 = 0;\n      if(index > 0) {\n        _pr_accum_1 += _data_1[index-1].pr;\n        _pr_accum_2 += _data_2[index-1].pr;\n      }\n      item.motions.forEach((item, index, array) => {\n        pr_accum_inCat_1 += pr_cat_1 * item.pr;\n        pr_accum_inCat_2 += pr_cat_2 * item.pr;\n        let pr1 = _pr_accum_1 + pr_accum_inCat_1;\n        let pr2 = _pr_accum_2 + pr_accum_inCat_2;\n        let isCurrent;\n        let isPrev;\n        let isEnd = false;\n        if(item.code == this.currentMotion) {\n          isCurrent = true;\n        }\n        else {\n          isCurrent = false;\n        }\n        if(item.code == this.prevMotion) {\n          isPrev = true;\n        }\n        else {\n          isPrev = false;\n        }\n        if(index == array.length - 1) {\n          isEnd = true;\n        }\n        let output_1 = {\n          code: item.code,\n          pr: pr1,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n        let output_2 = {\n          code: item.code,\n          pr: pr2,\n          cat: _cat,\n          isCurrent: isCurrent,\n          isPrev: isPrev,\n          isEndOfCat: isEnd\n        };\n        _range_1.push(output_1);\n        _range_2.push(output_2);\n      });\n    });\n    let output_total = {\n      prOut1: _range_1,\n      prOut2: _range_2\n    }\n    console.log(_range_1);\n    console.log(_range_2);\n    return output_total;\n  }\n\n  render() {\n    let prIn = this.state.prIn;\n    let prOut1 = this.state.prOut1;\n    let prOut2 = this.state.prOut2;\n    return (\n      <div className=\"App\">\n        <Placeholder\n        id=\"box_cam_front\"\n          content={<Img src={require('./img/front_default.jpg')}/>}\n          visibility={true}\n        />\n        <Placeholder\n        id=\"box_cam_side\"\n          content={<Img src={require('./img/side_default.jpg')}/>}\n          visibility={showCam}\n        />\n        <Dashboard prOut={this.state.prOut1}/>\n        <Footer />\n      </div>\n    );\n  }\n}\nexport default App;\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n/*   Functions                                                                 */\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nfunction setNextMotion() {\n  console.log(\"set next motion and play\");\n}\n\nfunction stopMotion() {\n  console.log(\"stop motion\");\n}\n\nfunction changeCam() {\n  console.log(\"change camera\");\n}\n\nfunction videoEndHandler() {\n\n}\n"]},"metadata":{},"sourceType":"module"}